(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/logo.a6a3d60b.png"},29:function(e,t,a){e.exports=a(51)},34:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),o=(a(34),a(2)),s=a.n(o),i=a(3),u=a(1),m=a(4),d=a(7),E=function(){return r.a.createElement("div",{className:"page-title"},"Home")},v=function(e){var t=e._id,a=e.subject,n=e.duedate,c=e.description,l=e.sidenote,o=e.is_done;return r.a.createElement("div",{className:"flex-item",onClick:function(){return window.location.replace("/todo/".concat(t))}},r.a.createElement("div",{className:"flex-inner-title"},a.length>20?"".concat(a.substring(0,20),"..."):a),r.a.createElement("div",{className:"flex-inner-text"},r.a.createElement("div",null,r.a.createElement("strong",null,"Due date: "),n),r.a.createElement("div",null,r.a.createElement("strong",null,"Description: "),c.length>20?"".concat(c.substring(0,20),"..."):c," "),r.a.createElement("div",null,r.a.createElement("strong",null,"Side notes: "),l?l.length>20?"".concat(l.substring(0,20),"..."):l:"None"," "),r.a.createElement("div",null,n<(new Date).toISOString().split("T")[0]&&!o&&"The due date of this todo has passed!"),r.a.createElement("div",null,"Click to view details!")))},f=a(9),p=a(6),b=a(5),N=a.n(b);N.a.setAppElement("#root");var h=function(){var e,t=Object(n.useContext)(X),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)({subject:"",duedate:"",description:"",sidenote:""}),E=Object(u.a)(d,2),v=E[0],b=E[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),S=O[0],C=O[1],j=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.prev=2,e.next=5,fetch("/api/todo",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(v)});case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,a.ok){e.next=11;break}throw new Error(n);case 11:C("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),C("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){e.persist(),b((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))};return"LOADING"===S?e=r.a.createElement("div",null,"Loading"):"SUCCESS"===S?e=r.a.createElement("div",null,"Todo successfully added! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/redirect?url=/todo",onClick:function(){return o(!1)}},"View todo list")):"ERROR"===S&&(e=r.a.createElement("div",null,"Please fill in all the required fields!")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-item",onClick:function(){t||o(!0)}},r.a.createElement("div",{className:"flex-inner-title"},"Add a todo"),r.a.createElement("div",{className:"add-todo"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))),r.a.createElement(N.a,{isOpen:l,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",null,r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return o(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Add todo"),r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"subject"},"*Subject: "),r.a.createElement("input",{type:"text",value:v.subject,onChange:function(e){return g(e,"subject")},name:"subject",id:"subject"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"duedate"},"*Due date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:v.duedate,onChange:function(e){return g(e,"duedate")},name:"duedate",id:"duedate"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"*Description: "),r.a.createElement("textarea",{value:v.description,onChange:function(e){return g(e,"description")},name:"description",id:"description"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sidenote"},"Sidenotes: "),r.a.createElement("textarea",{value:v.sidenote,onChange:function(e){return g(e,"sidenote")},name:"sidenote",id:"sidenote"})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return j(e)}},"Submit")),r.a.createElement("div",{className:"modal-status"},e))))},O=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),m=o[0],d=o[1],E=Object(n.useState)(!0),f=Object(u.a)(E,2),p=f[0],b=f[1],N=Object(n.useState)("DATE_ASCENDING"),O=Object(u.a)(N,2),S=O[0],C=O[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/todo");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,b(!1),t.ok){e.next=10;break}throw new Error(a);case 10:e.t0=S,e.next="DATE_ASCENDING"===e.t0?13:"DATE_DESCENDING"===e.t0?15:"SUBJECT"===e.t0?17:19;break;case 13:return a.sort((function(e,t){return e.duedate>t.duedate?1:e.duedate<t.duedate?-1:0})),e.abrupt("break",19);case 15:return a.sort((function(e,t){return e.duedate<t.duedate?1:e.duedate>t.duedate?-1:0})),e.abrupt("break",19);case 17:return a.sort((function(e,t){return e.subject>t.subject?1:e.subject<t.subject?-1:0})),e.abrupt("break",19);case 19:c(a.filter((function(e){return!e.is_done}))),d(a.filter((function(e){return e.is_done}))),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}})()()}),[S]);return r.a.createElement("div",null,r.a.createElement("div",{className:"page-title"},"Todos"),r.a.createElement("div",{className:"custom-select"},r.a.createElement("select",{onChange:function(e){return function(e){e.persist(),C(e.target.value)}(e)},defaultValue:"DATE_ASCENDING"},r.a.createElement("option",{value:"DATE_ASCENDING"},"Date ascending"),r.a.createElement("option",{value:"DATE_DESCENDING"},"Date descending"),r.a.createElement("option",{value:"SUBJECT"},"Subject")),r.a.createElement("span",{className:"custom-arrow"})),r.a.createElement("div",null,r.a.createElement("div",{className:"page-subtitle"},"Current todos"),r.a.createElement("div",{className:"flex-container"},r.a.createElement(h,null),p&&r.a.createElement("div",{className:"flex-item"},r.a.createElement("div",{className:"flex-inner-title"},"Loading...")),a.map((function(e){return r.a.createElement(v,{key:e._id,_id:e._id,subject:e.subject,duedate:e.duedate,description:e.description,sidenote:e.sidenote,is_done:!1})})))),r.a.createElement("div",null,r.a.createElement("div",{className:"page-subtitle"},"Completed todos"),0!==m.length?r.a.createElement("div",{className:"flex-container"},m.map((function(e){return r.a.createElement(v,{key:e._id,_id:e._id,subject:e.subject,duedate:e.duedate,description:e.description,sidenote:e.sidenote,is_done:!0})}))):r.a.createElement("div",{className:"not-found"},"There are currently no completed todos!")))},S=function(e){var t=Object(n.useContext)(X),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)(""),E=Object(u.a)(d,2),v=E[0],b=E[1],h=Object(n.useState)(e),O=Object(u.a)(h,2),S=O[0],C=O[1];Object(n.useEffect)((function(){C(e)}),[e]);var j,g=function(e,t){e.persist(),C((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))},k=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),b("LOADING"),t.prev=2,t.next=5,fetch("/api/todo/".concat(e._id),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(S)});case 5:return n=t.sent,t.next=8,n.json();case 8:if(r=t.sent,n.ok){t.next=11;break}throw new Error(r);case 11:b("SUCCESS"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),b("ERROR"),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();return"LOADING"===v?j=r.a.createElement("div",null,"Loading"):"SUCCESS"===v?j=r.a.createElement("div",null,"Success! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/redirect?url=/todo/".concat(e._id),onClick:function(){return o(!1)}},"View edited todo")):"ERROR"===v&&(j=r.a.createElement("div",null,"Please fill in all the required fields!")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){t||o(!0)}},"Edit Todo")),r.a.createElement(N.a,{isOpen:l,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return o(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Edit todo"),r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"subject"},"*Subject: "),r.a.createElement("input",{type:"text",value:S.subject,onChange:function(e){return g(e,"subject")},name:"subject",id:"subject"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"duedate"},"*Due date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:S.duedate,onChange:function(e){return g(e,"duedate")},name:"duedate",id:"duedate"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"*Description: "),r.a.createElement("textarea",{value:S.description,onChange:function(e){return g(e,"description")},name:"description",id:"description"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sidenote"},"Sidenotes: "),r.a.createElement("textarea",{value:S.sidenote,onChange:function(e){return g(e,"sidenote")},name:"sidenote",id:"sidenote"})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return k(e)}},"Confirm edit"),r.a.createElement("div",{className:"modal-status"},j))))},C=function(e){var t,a=e._id,c=e.subject,l=e.duedate,o=e.description,d=e.sidenote,E=Object(n.useContext)(X),v=Object(n.useState)(!1),f=Object(u.a)(v,2),p=f[0],b=f[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),S=O[0],C=O[1],j=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.prev=2,e.next=5,fetch("/api/todo/".concat(a),{method:"DELETE",mode:"cors"});case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,n.ok){e.next=11;break}throw new Error(r);case 11:C("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),C("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return"LOADING"===S?t=r.a.createElement("div",null,"Loading"):"SUCCESS"===S?t=r.a.createElement("div",null,"Successfully removed todo! ",r.a.createElement(m.b,{to:"/todo",className:"modal-redirect",onClick:function(){return b(!1)}},"Go back to todos list")):"ERROR"===S&&(t=r.a.createElement("div",null,"Error! Check console for details")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){E||b(!0)}},"Remove Todo")),r.a.createElement(N.a,{isOpen:p,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return b(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Are you sure you want to remove the following todo?"),r.a.createElement("div",{className:"modal-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"Subject: ",c),r.a.createElement("li",null,"Due date: ",l),r.a.createElement("li",null,"Description: ",o),r.a.createElement("li",null,"Side notes: ",d||"None"))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(e){return j(e)}},"Confirm"),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(){b(!1)}},"Cancel")),r.a.createElement("div",{className:"modal-status"},t)))},j=function(e){var t,a=e._id,c=e.subject,l=e.duedate,o=e.description,d=e.sidenote,E=e.is_done,v=Object(n.useContext)(X),f=Object(n.useState)(!1),p=Object(u.a)(f,2),b=p[0],h=p[1],O=Object(n.useState)(""),S=Object(u.a)(O,2),C=S[0],j=S[1],g=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j("LOADING"),e.prev=2,e.next=5,fetch("/api/todo/".concat(a),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({is_done:!E})});case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,n.ok){e.next=11;break}throw new Error(r);case 11:j("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),j("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return"LOADING"===C?t=r.a.createElement("div",null,"Loading"):"SUCCESS"===C?t=r.a.createElement("div",null,"Success! ",r.a.createElement(m.b,{to:"/todo",className:"modal-redirect",onClick:function(){return h(!1)}},"Go back to todo list")):"ERROR"===C&&(t=r.a.createElement("div",null,"Error! Check console for details")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){v||h(!0)}},"Mark todo as ",E?"ongoing":"complete")),r.a.createElement(N.a,{isOpen:b,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return h(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Are you sure you want to mark the following todo as ",E?"ongoing":"complete","?"),r.a.createElement("div",{className:"modal-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"Subject: ",c),r.a.createElement("li",null,"Due date: ",l),r.a.createElement("li",null,"Description: ",o),r.a.createElement("li",null,"Side notes: ",d||"None"))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(e){return g(e)}},"Confirm"),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(){h(!1)}},"Cancel")),r.a.createElement("div",{className:"modal-status"},t)))},g=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(u.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(!0),d=Object(u.a)(m,2),E=d[0],v=d[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),b=p[0],N=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/todo/".concat(t.params.todoID));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,v(!1),a.ok&&N(!0),a.ok){e.next=11;break}throw new Error(n);case 11:o(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),E?r.a.createElement("div",{className:"page-title"},"Loading..."):b?r.a.createElement("div",null,r.a.createElement("div",{className:"page-title"},"Todo Details"),r.a.createElement("div",{className:"page-info"},r.a.createElement("div",{className:"value"},l.subject),r.a.createElement("label",{className:"key"},"Subject"),r.a.createElement("div",{className:"value"},l.duedate),r.a.createElement("label",{className:"key"},"Due date"),r.a.createElement("div",{className:"value"},l.description),r.a.createElement("label",{className:"key"},"Description"),r.a.createElement("div",{className:"value"},l.sidenote||"None"),r.a.createElement("label",{className:"key"},"Side notes"),r.a.createElement("div",{className:"value"},l.is_done?"Completed":"Ongoing"),r.a.createElement("label",{className:"key"},"Status")),r.a.createElement("div",null,r.a.createElement(S,{_id:l._id,subject:l.subject,duedate:l.duedate,description:l.description,sidenote:l.sidenote}),r.a.createElement(j,{_id:l._id,is_done:l.is_done,subject:l.subject,duedate:l.duedate,description:l.description,sidenote:l.sidenote}),r.a.createElement(C,{_id:l._id,subject:l.subject,duedate:l.duedate,description:l.description,sidenote:l.sidenote}))):r.a.createElement("div",{className:"not-found"},"Todo not found!")},k=function(e){var t=e._id,a=e.name,n=e.prof,c=e.start_date,l=e.end_date,o=e.notes;return r.a.createElement("div",{className:"flex-item",onClick:function(){return window.location.replace("/class/".concat(t))}},r.a.createElement("div",{className:"flex-inner-title"},a.length>16?"".concat(a.substring(0,16),"..."):a),r.a.createElement("div",{className:"flex-inner-text"},r.a.createElement("div",null,r.a.createElement("strong",null,"Professor: "),n?n.length>20?"".concat(n.substring(0,20),"..."):n:"N/A"),r.a.createElement("div",null,r.a.createElement("strong",null,"Start date: "),c),r.a.createElement("div",null,r.a.createElement("strong",null,"End date: "),l),r.a.createElement("div",null,r.a.createElement("strong",null,"Number of notes: "),o.length),r.a.createElement("div",null,"Click to view details!")))},x=function(){var e,t=Object(n.useContext)(X),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)({name:"",prof:"",start_date:"",end_date:""}),E=Object(u.a)(d,2),v=E[0],b=E[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),S=O[0],C=O[1],j=function(e,t){e.persist(),b((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))},g=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.prev=2,e.next=5,fetch("/api/class",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(v)});case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,a.ok){e.next=11;break}throw new Error(n);case 11:b((function(e){return Object(p.a)(Object(p.a)({},e),{},{_id:n._id})})),C("SUCCESS"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),C("ERROR"),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return"LOADING"===S?e=r.a.createElement("div",null,"Loading"):"SUCCESS"===S?e=r.a.createElement("div",null,"Success! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/class/".concat(v._id),onClick:function(){return o(!1)}},"Go to created class")):"ERROR"===S&&(e=r.a.createElement("div",null,"Please fill in all the required fields!")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-item",onClick:function(){t||o(!0)}},r.a.createElement("div",{className:"flex-inner-title"},"Create a new class"),r.a.createElement("div",{className:"add-class"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))),r.a.createElement("div",null,r.a.createElement(N.a,{isOpen:l,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{className:"close-modal",onClick:function(){return o(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Create class"),r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"*Name: "),r.a.createElement("input",{type:"text",value:v.subject,onChange:function(e){return j(e,"name")},name:"name",id:"name"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"prof"},"Professor: "),r.a.createElement("input",{type:"text",value:v.duedate,onChange:function(e){return j(e,"prof")},name:"prof",id:"prof"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"start_date"},"*Start date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:v.description,onChange:function(e){return j(e,"start_date")},name:"start_date",id:"start_date"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"end_date"},"*End date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:v.sidenote,onChange:function(e){return j(e,"end_date")},name:"end_date",id:"end_date"})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return g(e)}},"Submit")),r.a.createElement("div",{className:"modal-status"},e))))},y=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(u.a)(l,2),m=o[0],d=o[1],E=Object(n.useState)("START_DATE_ASCENDING"),v=Object(u.a)(E,2),f=v[0],p=v[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/class");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,d(!1),t.ok){e.next=10;break}throw new Error(a);case 10:e.t0=f,e.next="START_DATE_ASCENDING"===e.t0?13:"START_DATE_DESCENDING"===e.t0?15:"END_DATE_ASCENDING"===e.t0?17:"END_DATE_DESCENDING"===e.t0?19:"NAME"===e.t0?21:"NOTES"===e.t0?23:25;break;case 13:return a.sort((function(e,t){return e.start_date>t.start_date?1:e.start_date<t.start_date?-1:0})),e.abrupt("break",25);case 15:return a.sort((function(e,t){return e.start_date<t.start_date?1:e.start_date>t.start_date?-1:0})),e.abrupt("break",25);case 17:return a.sort((function(e,t){return e.end_date>t.end_date?1:e.end_date<t.end_date?-1:0})),e.abrupt("break",25);case 19:return a.sort((function(e,t){return e.end_date<t.end_date?1:e.end_date>t.end_date?-1:0})),e.abrupt("break",25);case 21:return a.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),e.abrupt("break",25);case 23:return a.sort((function(e,t){return e.notes.length<t.notes.length?1:e.notes.length>t.notes.length?-1:0})),e.abrupt("break",25);case 25:c(a),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),console.log(e.t1);case 31:case 32:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}})()()}),[f]);return r.a.createElement("div",null,r.a.createElement("div",{className:"page-title"},"Classes"),r.a.createElement("div",{className:"custom-select"},r.a.createElement("select",{defaultValue:"START_DATE_ASCENDING",onChange:function(e){return function(e){e.persist(),p(e.target.value)}(e)}},r.a.createElement("option",{value:"START_DATE_ASCENDING"},"Start date ascending"),r.a.createElement("option",{value:"START_DATE_DESCENDING"},"Start date descending"),r.a.createElement("option",{value:"END_DATE_ASCENDING"},"End date ascending"),r.a.createElement("option",{value:"END_DATE_DESCENDING"},"End date descending"),r.a.createElement("option",{value:"NAME"},"Name"),r.a.createElement("option",{value:"NOTES"},"Number of notes")),r.a.createElement("span",{className:"custom-arrow"})),r.a.createElement("div",{className:"flex-container"},r.a.createElement(x,null),m&&r.a.createElement("div",{className:"flex-item"},r.a.createElement("div",{className:"flex-inner-title"},"Loading...")),a.map((function(e){return r.a.createElement(k,{key:e._id,_id:e._id,name:e.name,prof:e.prof,start_date:e.start_date,end_date:e.end_date,notes:e.notes})}))))},D=function(e){var t=e._id,a=e.classID,n=e.title,c=e.content,l=e.resource,o=e.sidenote,s=e.date;return r.a.createElement("div",{className:"flex-item",onClick:function(){return window.location.replace("/class/".concat(a,"/").concat(t))}},r.a.createElement("div",{className:"flex-inner-title"},n.length>20?"".concat(n.substring(0,20),"..."):n),r.a.createElement("div",{className:"flex-inner-text"},r.a.createElement("div",null,r.a.createElement("strong",null,"Content: "),c.length>20?"".concat(c.substring(0,20),"..."):c),r.a.createElement("div",null,r.a.createElement("strong",null,"Extra resources: "),l?l.length>17?"".concat(l.substring(0,17),"..."):l:"None"),r.a.createElement("div",null,r.a.createElement("strong",null,"Side notes: "),o?o.length>20?"".concat(o.substring(0,20),"..."):o:"None"),r.a.createElement("div",null,r.a.createElement("strong",null,"Date added: ",s.split("T")[0])),r.a.createElement("div",null,"Click to view details!")))},_=function(e){var t=Object(n.useContext)(X),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)(""),E=Object(u.a)(d,2),v=E[0],b=E[1],h=Object(n.useState)(e),O=Object(u.a)(h,2),S=O[0],C=O[1];Object(n.useEffect)((function(){C(e)}),[e]);var j,g=function(e,t){e.persist(),C((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))},k=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),b("LOADING"),t.prev=2,t.next=5,fetch("/api/class/".concat(e._id),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(S)});case 5:return n=t.sent,t.next=8,n.json();case 8:if(r=t.sent,console.log(r),n.ok){t.next=12;break}throw new Error(r);case 12:b("SUCCESS"),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),b("ERROR"),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}();return"LOADING"===v?j=r.a.createElement("div",null,"Loading"):"SUCCESS"===v?j=r.a.createElement("div",null,"Success! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/redirect?url=/class/".concat(e._id),onClick:function(){return o(!1)}},"View edited class")):"ERROR"===v&&(j=r.a.createElement("div",null,"Please fill in all the required fields!")),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){t||o(!0)}},"Edit this class"),r.a.createElement("div",null,r.a.createElement(N.a,{isOpen:l,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return o(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Edit class"),r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"*Name: "),r.a.createElement("input",{type:"text",value:S.name,onChange:function(e){return g(e,"name")},name:"name",id:"name"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"prof"},"Professor: "),r.a.createElement("input",{type:"text",value:S.prof,onChange:function(e){return g(e,"prof")},name:"prof",id:"prof"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"start_date"},"*Start date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:S.start_date,onChange:function(e){return g(e,"start_date")},name:"start_date",id:"start_date"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"end_date"},"*End date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:S.end_date,onChange:function(e){return g(e,"end_date")},name:"end_date",id:"end_date"})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return k(e)}},"Confirm edit")),r.a.createElement("div",{className:"modal-status"},j))))},w=function(e){var t,a=e._id,c=e.name,l=e.prof,o=e.start_date,d=e.end_date,E=Object(n.useContext)(X),v=Object(n.useState)(!1),f=Object(u.a)(v,2),p=f[0],b=f[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),S=O[0],C=O[1],j=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.prev=2,e.next=5,fetch("/api/class/".concat(a),{method:"DELETE",mode:"cors"});case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,n.ok){e.next=11;break}throw new Error(r);case 11:C("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),C("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return"LOADING"===S?t=r.a.createElement("div",null,"Loading"):"SUCCESS"===S?t=r.a.createElement("div",null,"Successfully removed class! ",r.a.createElement(m.b,{to:"/class",className:"modal-redirect",onClick:function(){return b(!1)}},"Go back to class list")):"ERROR"===S&&(t=r.a.createElement("div",null,"Error! Check console for details")),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){E||b(!0)}},"Remove this class")),r.a.createElement(N.a,{isOpen:p,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return b(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Are you sure you want to remove the following class?"),r.a.createElement("div",{className:"modal-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"Name: ",c),r.a.createElement("li",null,"Professor: ",l||"N/A"),r.a.createElement("li",null,"Start date: ",o),r.a.createElement("li",null,"End date: ",d))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(e){return j(e)}},"Confirm"),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(){b(!1)}},"Cancel")),r.a.createElement("div",{className:"modal-status"},t)))},A=function(e){var t,a=e._id,c=Object(n.useContext)(X),l=Object(n.useState)(!1),o=Object(u.a)(l,2),d=o[0],E=o[1],v=Object(n.useState)(""),b=Object(u.a)(v,2),h=b[0],O=b[1],S=Object(n.useState)({title:"",content:"",resource:"",sidenote:""}),C=Object(u.a)(S,2),j=C[0],g=C[1],k=function(e,t){e.persist(),e.target.style.height="",e.target.style.height=e.target.scrollHeight+"px",g((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))},x=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),O("LOADING"),e.prev=2,e.next=5,fetch("/api/note/".concat(a),{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(j)});case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,n.ok){e.next=11;break}throw new Error(r);case 11:O("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),O("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return"LOADING"===h?t=r.a.createElement("div",null,"Loading"):"SUCCESS"===h?t=r.a.createElement("div",null,"Note created! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/redirect?url=/class/".concat(a),onClick:function(){return E(!1)}},"Return to class")):"ERROR"===h&&(t=r.a.createElement("div",null,"Please fill in all the required fields!")),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-item",onClick:function(){c||E(!0)}},r.a.createElement("div",{className:"flex-inner-title"},"Add a new note"),r.a.createElement("div",{className:"add-note"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))),r.a.createElement(N.a,{isOpen:d,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return E(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Add note"),r.a.createElement("div",null,r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"title"},"*Title: "),r.a.createElement("input",{type:"text",value:j.title,name:"title",id:"title",onChange:function(e){return k(e,"title")}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"content"},"*Content: "),r.a.createElement("textarea",{value:j.content,name:"content",id:"content",onChange:function(e){return k(e,"content")}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"resource"},"Extra resources: "),r.a.createElement("textarea",{value:j.resource,name:"resource",id:"resource",onChange:function(e){return k(e,"resource")}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sidenote"},"Side notes: "),r.a.createElement("textarea",{value:j.sidenote,name:"sidenote",id:"sidenote",onChange:function(e){return k(e,"sidenote")}})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return x(e)}},"Submit"),r.a.createElement("div",null,t)))))},R=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(u.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),E=d[0],v=d[1],f=Object(n.useState)(!0),p=Object(u.a)(f,2),b=p[0],N=p[1],h=Object(n.useState)("DATE_ASCENDING"),O=Object(u.a)(h,2),S=O[0],C=O[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/class/".concat(t.params.classID));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,N(!1),a.ok&&v(!0),a.ok){e.next=11;break}throw new Error(n);case 11:e.t0=S,e.next="DATE_ASCENDING"===e.t0?14:"DATE_DESCENDING"===e.t0?16:"NOTE_LENGTH"===e.t0?18:20;break;case 14:return n.notes.sort((function(e,t){return e.date>t.date?1:e.date<t.date?-1:0})),e.abrupt("break",20);case 16:return n.notes.sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0})),e.abrupt("break",20);case 18:return n.notes.sort((function(e,t){return e.content.length<t.content.length?1:e.content.length>t.content.length?-1:0})),e.abrupt("break",20);case 20:o(n),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}})()()}),[S]);return b?r.a.createElement("div",{className:"page-title"},"Loading..."):E?r.a.createElement("div",null,r.a.createElement("div",{className:"page-title"},"Class Details"),r.a.createElement("div",{className:"page-info"},r.a.createElement("div",{className:"value"},l.name),r.a.createElement("label",{className:"key"},"Name"),r.a.createElement("div",{className:"value"},l.prof||"N/A"),r.a.createElement("label",{className:"key"},"Professor"),r.a.createElement("div",{className:"value"},l.start_date),r.a.createElement("label",{className:"key"},"Start date"),r.a.createElement("div",{className:"value"},l.end_date),r.a.createElement("label",{className:"key"},"End date")),r.a.createElement("div",{className:"page-subtitle"},"Notes for this class"),r.a.createElement("div",{className:"custom-select"},r.a.createElement("select",{defaultValue:"DATE_ASCENDING",onChange:function(e){return function(e){e.persist(),C(e.target.value)}(e)}},r.a.createElement("option",{value:"DATE_ASCENDING"},"Date ascending"),r.a.createElement("option",{value:"DATE_DESCENDING"},"Date descending"),r.a.createElement("option",{value:"NOTE_LENGTH"},"Note length")),r.a.createElement("span",{className:"custom-arrow"})),r.a.createElement("div",{className:"flex-container"},r.a.createElement(A,{_id:l._id}),!(void 0===l.notes||0===l.notes.length)&&l.notes.map((function(e){return r.a.createElement(D,{key:e._id,classID:t.params.classID,_id:e._id,title:e.title,content:e.content,resource:e.resource,sidenote:e.sidenote,date:e.date})}))),r.a.createElement("div",null,r.a.createElement(_,{_id:l._id,name:l.name,prof:l.prof,start_date:l.start_date,end_date:l.end_date}),r.a.createElement(w,{_id:l._id,name:l.name,prof:l.prof,start_date:l.start_date,end_date:l.end_date}))):r.a.createElement("div",{className:"not-found"},"Class not found!")},T=function(e){var t=Object(n.useContext)(X),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)(e),E=Object(u.a)(d,2),v=E[0],b=E[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),S=O[0],C=O[1];Object(n.useEffect)((function(){b(e)}),[e]);var j,g=function(e,t){e.persist(),b((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))},k=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),C("LOADING"),t.prev=2,t.next=5,fetch("/api/note/".concat(e.classID,"/").concat(e._id),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(v)});case 5:return n=t.sent,t.next=8,n.json();case 8:if(r=t.sent,n.ok){t.next=11;break}throw new Error(r);case 11:C("SUCCESS"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),C("ERROR"),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}();return"LOADING"===S?j=r.a.createElement("div",null,"Loading"):"ERROR"===S?j=r.a.createElement("div",null,"Please fill in all the required fields!"):"SUCCESS"===S&&(j=r.a.createElement("div",null,"Note successfully edited! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/redirect?url=class/".concat(e.classID,"/").concat(e._id),onClick:function(){return o(!1)}},"View edited note"))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){t||o(!0)}},"Edit this note"),r.a.createElement(N.a,{isOpen:l,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return o(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Edit note"),r.a.createElement("div",null,r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"title"},"*Title: "),r.a.createElement("input",{type:"text",value:v.title,name:"title",id:"title",onChange:function(e){return g(e,"title")}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"content"},"*Content: "),r.a.createElement("textarea",{value:v.content,name:"content",id:"content",onChange:function(e){return g(e,"content")}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"resource"},"Extra resources: "),r.a.createElement("textarea",{value:v.resource,name:"resource",id:"resource",onChange:function(e){return g(e,"resource")}})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sidenote"},"Side notes: "),r.a.createElement("textarea",{value:v.sidenote,name:"sidenote",id:"sidenote",onChange:function(e){return g(e,"sidenote")}})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return k(e)}},"Submit")),r.a.createElement("div",{className:"modal-status"},j))))},I=function(e){var t,a=e.classID,c=e._id,l=e.title,o=e.content,d=e.resource,E=e.sidenote,v=e.date,f=Object(n.useContext)(X),p=Object(n.useState)(!1),b=Object(u.a)(p,2),h=b[0],O=b[1],S=Object(n.useState)(""),C=Object(u.a)(S,2),j=C[0],g=C[1],k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g("LOADING"),e.prev=2,e.next=5,fetch("/api/note/".concat(a,"/").concat(c),{method:"DELETE",mode:"cors"});case 5:return n=e.sent,e.next=8,n.json();case 8:if(r=e.sent,n.ok){e.next=11;break}throw new Error(r);case 11:g("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),g("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return"LOADING"===j?t=r.a.createElement("div",null,"Loading"):"ERROR"===j?t=r.a.createElement("div",null,"Error! Check console for details"):"SUCCESS"===j&&(t=r.a.createElement("div",null,"Note successfully removed! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/class/".concat(a),onClick:function(){return O(!1)}},"Go back to class"))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){f||O(!0)}},"Remove this note"),r.a.createElement(N.a,{isOpen:h,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){return O(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Are you sure you want to remove the following note?"),r.a.createElement("div",{className:"modal-list"},r.a.createElement("ul",null,r.a.createElement("li",null,"Title: ",l),r.a.createElement("li",null,"Content: ",o),r.a.createElement("li",null,"Resources: ",d),r.a.createElement("li",null,"Side notes: ",E),r.a.createElement("li",null,"Date created: ",v&&v.split("T")[0]))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return k(e)}},"Confirm"),r.a.createElement("button",{className:"button-main",onClick:function(){return O(!1)}},"Cancel")),r.a.createElement("div",{className:"modal-status"},t)))},G=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(u.a)(a,2),l=c[0],o=c[1],m=Object(n.useState)(!0),d=Object(u.a)(m,2),E=d[0],v=d[1],f=Object(n.useState)(!1),p=Object(u.a)(f,2),b=p[0],N=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/note/".concat(t.params.classID,"/").concat(t.params.noteID));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,v(!1),a.ok&&N(!0),a.ok){e.next=11;break}throw new Error(n);case 11:o(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[t.params.classID,t.params.noteID]),E?r.a.createElement("div",{className:"page-title"},"Loading..."):b?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"page-title"},"Note Details"),r.a.createElement("div",{className:"page-info"},r.a.createElement("div",{className:"value"},l.title),r.a.createElement("label",{className:"key"},"Title"),r.a.createElement("div",{className:"value"},l.content),r.a.createElement("label",{className:"key"},"Content"),r.a.createElement("div",{className:"value"},l.resource||"None"),r.a.createElement("label",{className:"key"},"Resources"),r.a.createElement("div",{className:"value"},l.sidenote||"None"),r.a.createElement("label",{className:"key"},"Side notes"),r.a.createElement("div",{className:"value"},l.date&&l.date.split("T")[0]),r.a.createElement("label",{className:"key"},"Date added"))),r.a.createElement("div",null,r.a.createElement("button",{className:"button-main",onClick:function(){return document.location.replace("/class/".concat(t.params.classID))}},"Go back to class"),r.a.createElement(T,{classID:t.params.classID,_id:l._id,title:l.title,content:l.content,resource:l.resource,sidenote:l.sidenote,date:l.date}),r.a.createElement(I,{classID:t.params.classID,_id:l._id,title:l.title,content:l.content,resource:l.resource,sidenote:l.sidenote,date:l.date}))):r.a.createElement("div",{className:"not-found"},"Note not found!")};N.a.setAppElement("#root");var L=function(){var e,t=Object(n.useContext)(X),a=Object(n.useState)(!1),c=Object(u.a)(a,2),l=c[0],o=c[1],d=Object(n.useState)({subject:"",duedate:"",description:"",sidenote:""}),E=Object(u.a)(d,2),v=E[0],b=E[1],h=Object(n.useState)(""),O=Object(u.a)(h,2),S=O[0],C=O[1],j=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.prev=2,e.next=5,fetch("/api/todo",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(v)});case 5:return a=e.sent,e.next=8,a.json();case 8:if(n=e.sent,a.ok){e.next=11;break}throw new Error(n);case 11:C("SUCCESS"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),C("ERROR"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){e.persist(),b((function(a){return Object(p.a)(Object(p.a)({},a),{},Object(f.a)({},t,e.target.value))}))};return"LOADING"===S?e=r.a.createElement("div",null,"Loading"):"SUCCESS"===S?e=r.a.createElement("div",null,"Todo successfully added! ",r.a.createElement(m.b,{className:"modal-redirect",to:"/redirect?url=/todo",onClick:function(){return o(!1)}},"View todo list")):"ERROR"===S&&(e=r.a.createElement("div",null,"Please fill in all the required fields!")),r.a.createElement("div",null,r.a.createElement(m.b,{to:"#",onClick:function(){return o(!0)}},"Add Todo"),r.a.createElement(N.a,{isOpen:l,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",null,r.a.createElement("div",{className:"close-modal"},r.a.createElement("button",{onClick:function(){t||o(!1)}},"X")),r.a.createElement("div",{className:"modal-title"},"Add todo"),r.a.createElement("form",{className:"modal-form"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"subject"},"*Subject: "),r.a.createElement("input",{type:"text",value:v.subject,onChange:function(e){return g(e,"subject")},name:"subject",id:"subject"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"duedate"},"*Due date: "),r.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:v.duedate,onChange:function(e){return g(e,"duedate")},name:"duedate",id:"duedate"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"*Description: "),r.a.createElement("textarea",{value:v.description,onChange:function(e){return g(e,"description")},name:"description",id:"description"})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sidenote"},"Sidenotes: "),r.a.createElement("textarea",{value:v.sidenote,onChange:function(e){return g(e,"sidenote")},name:"sidenote",id:"sidenote"})),r.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return j(e)}},"Submit")),r.a.createElement("div",{className:"modal-status"},e))))},F=a(16),U=function(e){var t,a=new F.a,c=[e.readOnly,e.setReadOnly],l=c[0],o=c[1],d=Object(n.useState)(!1),E=Object(u.a)(d,2),v=E[0],f=E[1],p=Object(n.useState)(""),b=Object(u.a)(p,2),h=b[0],O=b[1],S=Object(n.useState)(""),C=Object(u.a)(S,2),j=C[0],g=C[1],k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g("LOADING"),e.next=4,fetch("/api/login",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({code:h})});case 4:if(403!==(n=e.sent).status){e.next=9;break}g("ERROR"),e.next=15;break;case 9:return g("SUCCESS"),o(!1),e.next=13,n.json();case 13:r=e.sent,a.set("code",r,{path:"/"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(j){case"LOADING":t=r.a.createElement("div",null,"Loading...");break;case"ERROR":t=r.a.createElement("div",null,"The code you entered is incorrect!");break;case"SUCCESS":t=r.a.createElement("div",null,"You are granted editing permission! ",r.a.createElement(m.b,{className:"modal-redirect",to:"#",onClick:function(){return f(!1)}},"Close modal"))}return r.a.createElement("div",{className:"nav"},r.a.createElement(m.b,{to:"/"},"Home"),r.a.createElement(m.b,{to:"/class"},"Classes"),r.a.createElement(m.b,{to:"/todo"},"Todos"),r.a.createElement(L,null),l&&r.a.createElement(m.b,{className:"nav-edit-enable",onClick:function(){return f(!0)},to:"#"},"Enable editing"),!l&&r.a.createElement(m.b,{className:"nav-edit-disable",onClick:function(){return a.remove("code"),void o(!0)},to:"#"},"Disable editing"),r.a.createElement(N.a,{isOpen:v,overlayClassName:"modal-overlay",className:"modal-content-small",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},r.a.createElement("div",{className:"modal-title"},"Enter the access code here:"),r.a.createElement("input",{value:h,onChange:function(e){return O(e.target.value)}}),r.a.createElement("div",{style:{margin:"10px"}},r.a.createElement("button",{onClick:function(e){return k(e)},className:"button-main",type:"submit"},"Submit")),r.a.createElement("div",{className:"modal-status"},t)))},P=function(e){var t=e.location;return Object(n.useEffect)((function(){document.location.replace(t.search.split("url=")[1])}),[]),r.a.createElement("div",null,"hi")},q=(a(50),a(28)),J=a.n(q),X=r.a.createContext("");var H=function(){var e=new F.a,t=Object(n.useState)(!0),a=Object(u.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){var t=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login",{method:"GET",headers:{TOKEN:t}});case 2:e.sent.ok?l(!1):l(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.get("code")&&t(e.get("code"))})),r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(U,{readOnly:c,setReadOnly:l}),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:J.a})),r.a.createElement(X.Provider,{value:c},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:E}),r.a.createElement(d.a,{path:"/todo",exact:!0,component:O}),r.a.createElement(d.a,{path:"/todo/:todoID",exact:!0,component:g}),r.a.createElement(d.a,{path:"/class",exact:!0,component:y}),r.a.createElement(d.a,{path:"/class/:classID",exact:!0,component:R}),r.a.createElement(d.a,{path:"/class/:classID/:noteID",exact:!0,component:G}),r.a.createElement(d.a,{path:"/redirect",exact:!0,component:P}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.9716481a.chunk.js.map