(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),l=a.n(r),o=(a(53),a(2)),s=a.n(o),i=a(3),u=a(1),d=a(4),m=a(8),E=function(){return c.a.createElement("div",{className:"page-title"},"Home")},v=function(e){var t=e._id,a=e.subject,n=e.duedate,r=e.description,l=e.sidenote,o=e.is_done;return c.a.createElement("div",{className:"flex-item",onClick:function(){return window.location.replace("/todo/".concat(t))}},c.a.createElement("div",{className:"flex-inner-title"},a.length>20?"".concat(a.substring(0,20),"..."):a),c.a.createElement("div",{className:"flex-inner-text"},c.a.createElement("div",null,c.a.createElement("strong",null,"Due date: "),n),c.a.createElement("div",null,c.a.createElement("strong",null,"Description: "),r.length>20?"".concat(r.substring(0,20),"..."):r," "),c.a.createElement("div",null,c.a.createElement("strong",null,"Side notes: "),l?l.length>20?"".concat(l.substring(0,20),"..."):l:"None"," "),c.a.createElement("div",null,n<(new Date).toISOString().split("T")[0]&&!o&&"The due date of this todo has passed!"),c.a.createElement("div",null,"Click to view details!")))},b=a(10),f=a(5),p=a(7),N=a.n(p),h=a(6);N.a.setAppElement("#root");var O=function(){var e,t=new h.a,a=Object(n.useContext)(X),r=Object(n.useState)(!1),l=Object(u.a)(r,2),o=l[0],m=l[1],E=Object(n.useState)({subject:"",duedate:"",description:"",sidenote:""}),v=Object(u.a)(E,2),p=v[0],O=v[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),j=S[0],C=S[1],y=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),C("LOADING"),e.next=4,fetch("/api/todo?key=".concat(t.get("code")),{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(p)});case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,200===n.status?(C("SUCCESS"),O((function(e){return Object(f.a)(Object(f.a)({},e),{},{_id:c._id})}))):400===n.status?C("ERROR_400"):403===n.status&&C("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t){e.persist(),O((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))};switch(j){case"LOADING":e=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":e=c.a.createElement("div",null,"Successfully added todo! ",c.a.createElement(d.b,{to:"/todo/".concat(p._id),className:"modal-redirect",onClick:function(){return m(!1)}},"View created todo"));break;case"ERROR_400":e=c.a.createElement("div",null,"Please fill in all the required fields!");break;case"ERROR_403":e=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex-item",onClick:function(){a?window.alert("You are currently in read-only mode!"):m(!0)}},c.a.createElement("div",{className:"flex-inner-title"},"Add a todo"),c.a.createElement("div",{className:"add-todo"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))),c.a.createElement(N.a,{isOpen:o,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",null,c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return m(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Add todo"),c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"subject"},"*Subject: "),c.a.createElement("input",{type:"text",value:p.subject,onChange:function(e){return k(e,"subject")},name:"subject",id:"subject"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"duedate"},"*Due date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:p.duedate,onChange:function(e){return k(e,"duedate")},name:"duedate",id:"duedate"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"description"},"*Description: "),c.a.createElement("textarea",{value:p.description,onChange:function(e){return k(e,"description")},name:"description",id:"description"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"sidenote"},"Sidenotes: "),c.a.createElement("textarea",{value:p.sidenote,onChange:function(e){return k(e,"sidenote")},name:"sidenote",id:"sidenote"})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return y(e)}},"Submit")),c.a.createElement("div",{className:"modal-status"},e))))},g=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)([]),o=Object(u.a)(l,2),d=o[0],m=o[1],E=Object(n.useState)(!0),b=Object(u.a)(E,2),f=b[0],p=b[1],N=Object(n.useState)("DATE_ASCENDING"),h=Object(u.a)(N,2),g=h[0],S=h[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/todo");case 3:return t=e.sent,e.next=6,t.json();case 6:if(a=e.sent,p(!1),t.ok){e.next=10;break}throw new Error(a);case 10:e.t0=g,e.next="DATE_ASCENDING"===e.t0?13:"DATE_DESCENDING"===e.t0?15:"SUBJECT"===e.t0?17:19;break;case 13:return a.sort((function(e,t){return e.duedate>t.duedate?1:e.duedate<t.duedate?-1:0})),e.abrupt("break",19);case 15:return a.sort((function(e,t){return e.duedate<t.duedate?1:e.duedate>t.duedate?-1:0})),e.abrupt("break",19);case 17:return a.sort((function(e,t){return e.subject>t.subject?1:e.subject<t.subject?-1:0})),e.abrupt("break",19);case 19:r(a.filter((function(e){return!e.is_done}))),m(a.filter((function(e){return e.is_done}))),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case 28:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}})()()}),[g]);return c.a.createElement("div",null,c.a.createElement("div",{className:"page-title"},"Todos"),c.a.createElement("div",{className:"custom-select"},c.a.createElement("select",{onChange:function(e){return function(e){e.persist(),S(e.target.value)}(e)},defaultValue:"DATE_ASCENDING"},c.a.createElement("option",{value:"DATE_ASCENDING"},"Date ascending"),c.a.createElement("option",{value:"DATE_DESCENDING"},"Date descending"),c.a.createElement("option",{value:"SUBJECT"},"Subject")),c.a.createElement("span",{className:"custom-arrow"})),c.a.createElement("div",null,c.a.createElement("div",{className:"page-subtitle"},"Current todos"),c.a.createElement("div",{className:"flex-container"},c.a.createElement(O,null),f&&c.a.createElement("div",{className:"flex-item"},c.a.createElement("div",{className:"flex-inner-title"},"Loading...")),a.map((function(e){return c.a.createElement(v,{key:e._id,_id:e._id,subject:e.subject,duedate:e.duedate,description:e.description,sidenote:e.sidenote,is_done:!1})})))),c.a.createElement("div",null,c.a.createElement("div",{className:"page-subtitle"},"Completed todos"),0!==d.length?c.a.createElement("div",{className:"flex-container"},d.map((function(e){return c.a.createElement(v,{key:e._id,_id:e._id,subject:e.subject,duedate:e.duedate,description:e.description,sidenote:e.sidenote,is_done:!0})}))):c.a.createElement("div",{className:"not-found"},"There are currently no completed todos!")))},S=function(e){var t=new h.a,a=Object(n.useContext)(X),r=Object(n.useState)(!1),l=Object(u.a)(r,2),o=l[0],m=l[1],E=Object(n.useState)(""),v=Object(u.a)(E,2),p=v[0],O=v[1],g=Object(n.useState)(e),S=Object(u.a)(g,2),j=S[0],C=S[1];Object(n.useEffect)((function(){C(e)}),[e]);var y,k=function(e,t){e.persist(),e.target.style.height="",e.target.style.height=e.target.scrollHeight+"px",C((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))},_=function(){var a=Object(i.a)(s.a.mark((function a(n){var c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),O("LOADING"),a.next=4,fetch("/api/todo/".concat(e._id,"?key=").concat(t.get("code")),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(j)});case 4:return c=a.sent,a.next=7,c.json();case 7:a.sent,200===c.status?O("SUCCESS"):400===c.status?O("ERROR_400"):403===c.status&&O("ERROR_403");case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();switch(p){case"LOADING":y=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":y=c.a.createElement("div",null,"Successfully edited todo! ",c.a.createElement(d.b,{to:"/redirect?url=/todo/".concat(e._id),className:"modal-redirect",onClick:function(){return m(!1)}},"View updated todo"));break;case"ERROR_400":y=c.a.createElement("div",null,"Please fill in all the required fields!");break;case"ERROR_403":y=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){a?window.alert("You are currently in read-only mode!"):m(!0)}},"Edit Todo")),c.a.createElement(N.a,{isOpen:o,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return m(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Edit todo"),c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"subject"},"*Subject: "),c.a.createElement("input",{type:"text",value:j.subject,onChange:function(e){return k(e,"subject")},name:"subject",id:"subject"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"duedate"},"*Due date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:j.duedate,onChange:function(e){return k(e,"duedate")},name:"duedate",id:"duedate"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"description"},"*Description: "),c.a.createElement("textarea",{value:j.description,onChange:function(e){return k(e,"description")},name:"description",id:"description"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"sidenote"},"Sidenotes: "),c.a.createElement("textarea",{value:j.sidenote,onChange:function(e){return k(e,"sidenote")},name:"sidenote",id:"sidenote"})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return _(e)}},"Confirm edit"),c.a.createElement("div",{className:"modal-status"},y))))},j=function(e){var t,a=e._id,r=e.subject,l=e.duedate,o=e.description,m=e.sidenote,E=new h.a,v=Object(n.useContext)(X),b=Object(n.useState)(!1),f=Object(u.a)(b,2),p=f[0],O=f[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),j=S[0],C=S[1],y=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.next=4,fetch("/api/todo/".concat(a,"?key=").concat(E.get("code")),{method:"DELETE",mode:"cors"});case 4:return n=e.sent,e.next=7,n.json();case 7:e.sent,200===n.status?C("SUCCESS"):400===n.status?C("ERROR_400"):403===n.status&&C("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(j){case"LOADING":t=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":t=c.a.createElement("div",null,"Successfully removed todo! ",c.a.createElement(d.b,{to:"/todo",className:"modal-redirect",onClick:function(){return O(!1)}},"Go back to todos list"));break;case"ERROR_400":t=c.a.createElement("div",null,"Unknown error! Check console for details");break;case"ERROR_403":t=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){v?window.alert("You are currently in read-only mode!"):O(!0)}},"Remove Todo")),c.a.createElement(N.a,{isOpen:p,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return O(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Are you sure you want to remove the following todo?"),c.a.createElement("div",{className:"modal-list"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("strong",null,"Subject:")," ",r),c.a.createElement("li",null,c.a.createElement("strong",null,"Due date:")," ",l),c.a.createElement("li",null,c.a.createElement("strong",null,"Description:")," ",o),c.a.createElement("li",null,c.a.createElement("strong",null,"Side notes:")," ",m||"None"))),c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(e){return y(e)}},"Confirm"),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(){O(!1)}},"Cancel")),c.a.createElement("div",{className:"modal-status"},t)))},C=function(e){var t,a=e._id,r=e.subject,l=e.duedate,o=e.description,m=e.sidenote,E=e.is_done,v=new h.a,b=Object(n.useContext)(X),f=Object(n.useState)(!1),p=Object(u.a)(f,2),O=p[0],g=p[1],S=Object(n.useState)(""),j=Object(u.a)(S,2),C=j[0],y=j[1],k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y("LOADING"),e.next=4,fetch("/api/todo/".concat(a,"?key=").concat(v.get("code")),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({subject:r,duedate:l,description:o,sidenote:m,is_done:!E})});case 4:return n=e.sent,e.next=7,n.json();case 7:e.sent,200===n.status?y("SUCCESS"):400===n.status?y("ERROR_400"):403===n.status&&y("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(C){case"LOADING":t=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":t=c.a.createElement("div",null,"Marked todo as ",E?"ongoing":"done","! ",c.a.createElement(d.b,{to:"/redirect?url=/todo/".concat(a),className:"modal-redirect",onClick:function(){return g(!1)}},"View updated todo"));break;case"ERROR_400":t=c.a.createElement("div",null,"Unknown error! Check console for details");break;case"ERROR_403":t=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){b?window.alert("You are currently in read-only mode!"):g(!0)}},"Mark todo as ",E?"ongoing":"complete")),c.a.createElement(N.a,{isOpen:O,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return g(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Are you sure you want to mark the following todo as ",E?"ongoing":"complete","?"),c.a.createElement("div",{className:"modal-list"},c.a.createElement("ul",null,c.a.createElement("li",null,"Subject: ",r),c.a.createElement("li",null,"Due date: ",l),c.a.createElement("li",null,"Description: ",o),c.a.createElement("li",null,"Side notes: ",m||"None"))),c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(e){return k(e)}},"Confirm"),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(){g(!1)}},"Cancel")),c.a.createElement("div",{className:"modal-status"},t)))},y=a(11),k=a.n(y),_=function(e){var t=e.match,a=Object(n.useState)({}),r=Object(u.a)(a,2),l=r[0],o=r[1],d=Object(n.useState)(!0),m=Object(u.a)(d,2),E=m[0],v=m[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),p=f[0],N=f[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/todo/".concat(t.params.todoID));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,v(!1),a.ok&&N(!0),a.ok){e.next=11;break}throw new Error(n);case 11:o(n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),E?c.a.createElement("div",{className:"page-title"},"Loading..."):p?c.a.createElement("div",null,c.a.createElement("div",{className:"page-title"},"Todo Details"),c.a.createElement("div",{className:"page-info"},c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.subject})),c.a.createElement("label",{className:"key"},"Subject"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.duedate})),c.a.createElement("label",{className:"key"},"Due date"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.description})),c.a.createElement("label",{className:"key"},"Description"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.sidenote||"None"})),c.a.createElement("label",{className:"key"},"Side notes"),c.a.createElement("div",{className:"value"},l.is_done?"Completed":"Ongoing"),c.a.createElement("label",{className:"key"},"Status")),c.a.createElement("div",null,c.a.createElement(S,{_id:l._id,subject:l.subject,duedate:l.duedate,description:l.description,sidenote:l.sidenote}),c.a.createElement(C,{_id:l._id,is_done:l.is_done,subject:l.subject,duedate:l.duedate,description:l.description,sidenote:l.sidenote}),c.a.createElement(j,{_id:l._id,subject:l.subject,duedate:l.duedate,description:l.description,sidenote:l.sidenote}))):c.a.createElement("div",{className:"not-found"},"Todo not found!")},w=function(e){var t=e._id,a=e.name,n=e.prof,r=e.start_date,l=e.end_date,o=e.notes;return c.a.createElement("div",{className:"flex-item",onClick:function(){return window.location.replace("/class/".concat(t))}},c.a.createElement("div",{className:"flex-inner-title"},a.length>16?"".concat(a.substring(0,16),"..."):a),c.a.createElement("div",{className:"flex-inner-text"},c.a.createElement("div",null,c.a.createElement("strong",null,"Professor: "),n?n.length>20?"".concat(n.substring(0,20),"..."):n:"N/A"),c.a.createElement("div",null,c.a.createElement("strong",null,"Start date: "),r),c.a.createElement("div",null,c.a.createElement("strong",null,"End date: "),l),c.a.createElement("div",null,c.a.createElement("strong",null,"Number of notes: "),o.length),c.a.createElement("div",null,"Click to view details!")))},R=function(){var e,t=new h.a,a=Object(n.useContext)(X),r=Object(n.useState)(!1),l=Object(u.a)(r,2),o=l[0],m=l[1],E=Object(n.useState)({name:"",prof:"",start_date:"",end_date:""}),v=Object(u.a)(E,2),p=v[0],O=v[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),j=S[0],C=S[1],y=function(e,t){e.persist(),O((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))},k=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),C("LOADING"),e.next=4,fetch("/api/class?key=".concat(t.get("code")),{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(p)});case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,200===n.status?(C("SUCCESS"),O((function(e){return Object(f.a)(Object(f.a)({},e),{},{_id:c._id})}))):400===n.status?C("ERROR_400"):403===n.status&&C("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(j){case"LOADING":e=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":e=c.a.createElement("div",null,"Successfully created class! ",c.a.createElement(d.b,{to:"/class/".concat(p._id),className:"modal-redirect",onClick:function(){return m(!1)}},"View created class"));break;case"ERROR_400":e=c.a.createElement("div",null,"Unknown error! Check console for details");break;case"ERROR_403":e=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex-item",onClick:function(){a?window.alert("You are currently in read-only mode!"):m(!0)}},c.a.createElement("div",{className:"flex-inner-title"},"Create a new class"),c.a.createElement("div",{className:"add-class"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))),c.a.createElement("div",null,c.a.createElement(N.a,{isOpen:o,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return m(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Create class"),c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"name"},"*Name: "),c.a.createElement("input",{type:"text",value:p.subject,onChange:function(e){return y(e,"name")},name:"name",id:"name"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"prof"},"Professor: "),c.a.createElement("input",{type:"text",value:p.duedate,onChange:function(e){return y(e,"prof")},name:"prof",id:"prof"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"start_date"},"*Start date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:p.description,onChange:function(e){return y(e,"start_date")},name:"start_date",id:"start_date"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"end_date"},"*End date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:p.sidenote,onChange:function(e){return y(e,"end_date")},name:"end_date",id:"end_date"})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return k(e)}},"Submit")),c.a.createElement("div",{className:"modal-status"},e))))},x=function(){var e=new h.a,t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!0),d=Object(u.a)(o,2),m=d[0],E=d[1],v=Object(n.useState)("START_DATE_ASCENDING"),b=Object(u.a)(v,2),f=b[0],p=b[1];Object(n.useEffect)((function(){(function(){var t=Object(i.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/class?key=".concat(e.get("code")));case 3:return a=t.sent,t.next=6,a.json();case 6:if(n=t.sent,E(!1),a.ok){t.next=10;break}throw new Error(n);case 10:t.t0=f,t.next="START_DATE_ASCENDING"===t.t0?13:"START_DATE_DESCENDING"===t.t0?15:"END_DATE_ASCENDING"===t.t0?17:"END_DATE_DESCENDING"===t.t0?19:"NAME"===t.t0?21:"NOTES"===t.t0?23:25;break;case 13:return n.sort((function(e,t){return e.start_date>t.start_date?1:e.start_date<t.start_date?-1:0})),t.abrupt("break",25);case 15:return n.sort((function(e,t){return e.start_date<t.start_date?1:e.start_date>t.start_date?-1:0})),t.abrupt("break",25);case 17:return n.sort((function(e,t){return e.end_date>t.end_date?1:e.end_date<t.end_date?-1:0})),t.abrupt("break",25);case 19:return n.sort((function(e,t){return e.end_date<t.end_date?1:e.end_date>t.end_date?-1:0})),t.abrupt("break",25);case 21:return n.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),t.abrupt("break",25);case 23:return n.sort((function(e,t){return e.notes.length<t.notes.length?1:e.notes.length>t.notes.length?-1:0})),t.abrupt("break",25);case 25:l(n),t.next=31;break;case 28:t.prev=28,t.t1=t.catch(0),console.log(t.t1);case 31:case 32:case"end":return t.stop()}}),t,null,[[0,28]])})));return function(){return t.apply(this,arguments)}})()()}),[f]);return c.a.createElement("div",null,c.a.createElement("div",{className:"page-title"},"Classes"),c.a.createElement("div",{className:"custom-select"},c.a.createElement("select",{defaultValue:"START_DATE_ASCENDING",onChange:function(e){return function(e){e.persist(),p(e.target.value)}(e)}},c.a.createElement("option",{value:"START_DATE_ASCENDING"},"Start date ascending"),c.a.createElement("option",{value:"START_DATE_DESCENDING"},"Start date descending"),c.a.createElement("option",{value:"END_DATE_ASCENDING"},"End date ascending"),c.a.createElement("option",{value:"END_DATE_DESCENDING"},"End date descending"),c.a.createElement("option",{value:"NAME"},"Name"),c.a.createElement("option",{value:"NOTES"},"Number of notes")),c.a.createElement("span",{className:"custom-arrow"})),c.a.createElement("div",{className:"flex-container"},c.a.createElement(R,null),m&&c.a.createElement("div",{className:"flex-item"},c.a.createElement("div",{className:"flex-inner-title"},"Loading...")),r.map((function(e){return c.a.createElement(w,{key:e._id,_id:e._id,name:e.name,prof:e.prof,start_date:e.start_date,end_date:e.end_date,notes:e.notes})}))))},D=function(e){var t=e._id,a=e.classID,n=e.title,r=e.content,l=e.resource,o=e.sidenote,s=e.date;return c.a.createElement("div",{className:"flex-item",onClick:function(){return window.location.replace("/class/".concat(a,"/").concat(t))}},c.a.createElement("div",{className:"flex-inner-title"},n.length>20?"".concat(n.substring(0,20),"..."):n),c.a.createElement("div",{className:"flex-inner-text"},c.a.createElement("div",null,c.a.createElement("strong",null,"Content: "),r.length>20?"".concat(r.substring(0,20),"..."):r),c.a.createElement("div",null,c.a.createElement("strong",null,"Extra resources: "),l?l.length>17?"".concat(l.substring(0,17),"..."):l:"None"),c.a.createElement("div",null,c.a.createElement("strong",null,"Side notes: "),o?o.length>20?"".concat(o.substring(0,20),"..."):o:"None"),c.a.createElement("div",null,c.a.createElement("strong",null,"Date added: ",s.split("T")[0])),c.a.createElement("div",null,"Click to view details!")))},A=function(e){var t=new h.a,a=Object(n.useContext)(X),r=Object(n.useState)(!1),l=Object(u.a)(r,2),o=l[0],m=l[1],E=Object(n.useState)(""),v=Object(u.a)(E,2),p=v[0],O=v[1],g=Object(n.useState)(e),S=Object(u.a)(g,2),j=S[0],C=S[1];Object(n.useEffect)((function(){C(e)}),[e]);var y,k=function(e,t){e.persist(),C((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))},_=function(){var a=Object(i.a)(s.a.mark((function a(n){var c,r;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),O("LOADING"),a.next=4,fetch("/api/class/".concat(e._id,"?key=").concat(t.get("code")),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(j)});case 4:return c=a.sent,a.next=7,c.json();case 7:r=a.sent,console.log(r),200===c.status?O("SUCCESS"):400===c.status?O("ERROR_400"):403===c.status&&O("ERROR_403");case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();switch(p){case"LOADING":y=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":y=c.a.createElement("div",null,"Successfully edited class! ",c.a.createElement(d.b,{to:"/redirect?url=/class/".concat(e._id),className:"modal-redirect",onClick:function(){return m(!1)}},"View updated class"));break;case"ERROR_400":y=c.a.createElement("div",null,"Unknown error! Check console for details");break;case"ERROR_403":y=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){a?window.alert("You are currently in read-only mode!"):m(!0)}},"Edit this class"),c.a.createElement("div",null,c.a.createElement(N.a,{isOpen:o,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return m(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Edit class"),c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"name"},"*Name: "),c.a.createElement("input",{type:"text",value:j.name,onChange:function(e){return k(e,"name")},name:"name",id:"name"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"prof"},"Professor: "),c.a.createElement("input",{type:"text",value:j.prof,onChange:function(e){return k(e,"prof")},name:"prof",id:"prof"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"start_date"},"*Start date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:j.start_date,onChange:function(e){return k(e,"start_date")},name:"start_date",id:"start_date"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"end_date"},"*End date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:j.end_date,onChange:function(e){return k(e,"end_date")},name:"end_date",id:"end_date"})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return _(e)}},"Confirm edit")),c.a.createElement("div",{className:"modal-status"},y))))},T=function(e){var t,a=e._id,r=e.name,l=e.prof,o=e.start_date,m=e.end_date,E=new h.a,v=Object(n.useContext)(X),b=Object(n.useState)(!1),f=Object(u.a)(b,2),p=f[0],O=f[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),j=S[0],C=S[1],y=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C("LOADING"),e.next=4,fetch("/api/class/".concat(a,"?key=").concat(E.get("code")),{method:"DELETE",mode:"cors"});case 4:return n=e.sent,e.next=7,n.json();case 7:e.sent,200===n.status?C("SUCCESS"):400===n.status?C("ERROR_400"):403===n.status&&C("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(j){case"LOADING":t=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":t=c.a.createElement("div",null,"Successfully removed class! ",c.a.createElement(d.b,{to:"/class",className:"modal-redirect",onClick:function(){return O(!1)}},"Go back to class list"));break;case"ERROR_400":t=c.a.createElement("div",null,"Unknown error! Check console for details");break;case"ERROR_403":t=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){v?window.alert("You are currently in read-only mode!"):O(!0)}},"Remove this class")),c.a.createElement(N.a,{isOpen:p,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return O(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Are you sure you want to remove the following class?"),c.a.createElement("div",{className:"modal-list"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("strong",null,"Name:")," ",r),c.a.createElement("li",null,c.a.createElement("strong",null,"Professor:")," ",l||"N/A"),c.a.createElement("li",null,c.a.createElement("strong",null,"Start date:")," ",o),c.a.createElement("li",null,c.a.createElement("strong",null,"End date:")," ",m))),c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(e){return y(e)}},"Confirm"),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(){O(!1)}},"Cancel")),c.a.createElement("div",{className:"modal-status"},t)))},I=function(e){var t,a=e._id,r=new h.a,l=Object(n.useContext)(X),o=Object(n.useState)(!1),m=Object(u.a)(o,2),E=m[0],v=m[1],p=Object(n.useState)(""),O=Object(u.a)(p,2),g=O[0],S=O[1],j=Object(n.useState)({title:"",content:"",resource:"",sidenote:""}),C=Object(u.a)(j,2),y=C[0],k=C[1],_=function(e,t){e.persist(),e.target.style.height="",e.target.style.height=e.target.scrollHeight+"px",k((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))},w=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),S("LOADING"),e.next=4,fetch("/api/note/".concat(a,"?key=").concat(r.get("code")),{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(y)});case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,200===n.status?(S("SUCCESS"),k((function(e){return Object(f.a)(Object(f.a)({},e),{},{_id:c._id})}))):400===n.status?S("ERROR_400"):403===n.status&&S("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(g){case"LOADING":t=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":t=c.a.createElement("div",null,"Successfully added note! ",c.a.createElement(d.b,{to:"/class/".concat(a,"/").concat(y._id),className:"modal-redirect",onClick:function(){return v(!1)}},"View created note"));break;case"ERROR_400":t=c.a.createElement("div",null,"Please fill in all the required fields!");break;case"ERROR_403":t=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"flex-item",onClick:function(){l?window.alert("You are currently in read-only mode!"):v(!0)}},c.a.createElement("div",{className:"flex-inner-title"},"Add a new note"),c.a.createElement("div",{className:"add-note"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},c.a.createElement("path",{d:"M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"})))),c.a.createElement(N.a,{isOpen:E,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return v(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Add note"),c.a.createElement("div",null,c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"title"},"*Title: "),c.a.createElement("input",{type:"text",value:y.title,name:"title",id:"title",onChange:function(e){return _(e,"title")}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"content"},"*Content: "),c.a.createElement("textarea",{value:y.content,name:"content",id:"content",onChange:function(e){return _(e,"content")}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"resource"},"Extra resources: "),c.a.createElement("textarea",{value:y.resource,name:"resource",id:"resource",onChange:function(e){return _(e,"resource")}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"sidenote"},"Side notes: "),c.a.createElement("textarea",{value:y.sidenote,name:"sidenote",id:"sidenote",onChange:function(e){return _(e,"sidenote")}})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return w(e)}},"Submit"),c.a.createElement("div",{className:"modal-status"},t)))))},G=function(e){var t=e.match,a=Object(n.useState)({}),r=Object(u.a)(a,2),l=r[0],o=r[1],d=Object(n.useState)(!1),m=Object(u.a)(d,2),E=m[0],v=m[1],b=Object(n.useState)(!0),f=Object(u.a)(b,2),p=f[0],N=f[1],h=Object(n.useState)("DATE_ASCENDING"),O=Object(u.a)(h,2),g=O[0],S=O[1];Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/class/".concat(t.params.classID));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,N(!1),a.ok&&v(!0),a.ok){e.next=11;break}throw new Error(n);case 11:e.t0=g,e.next="DATE_ASCENDING"===e.t0?14:"DATE_DESCENDING"===e.t0?16:"NOTE_LENGTH"===e.t0?18:20;break;case 14:return n.notes.sort((function(e,t){return e.date>t.date?1:e.date<t.date?-1:0})),e.abrupt("break",20);case 16:return n.notes.sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0})),e.abrupt("break",20);case 18:return n.notes.sort((function(e,t){return e.content.length<t.content.length?1:e.content.length>t.content.length?-1:0})),e.abrupt("break",20);case 20:o(n),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(){return e.apply(this,arguments)}})()()}),[g]);return p?c.a.createElement("div",{className:"page-title"},"Loading..."):E?c.a.createElement("div",null,c.a.createElement("div",{className:"page-title"},"Class Details"),c.a.createElement("div",{className:"page-info"},c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.name})),c.a.createElement("label",{className:"key"},"Name"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.prof||"N/A"})),c.a.createElement("label",{className:"key"},"Professor"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.start_date})),c.a.createElement("label",{className:"key"},"Start date"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.end_date})),c.a.createElement("label",{className:"key"},"End date")),c.a.createElement("div",{className:"page-subtitle"},"Notes for this class"),c.a.createElement("div",{className:"custom-select"},c.a.createElement("select",{defaultValue:"DATE_ASCENDING",onChange:function(e){return function(e){e.persist(),S(e.target.value)}(e)}},c.a.createElement("option",{value:"DATE_ASCENDING"},"Date ascending"),c.a.createElement("option",{value:"DATE_DESCENDING"},"Date descending"),c.a.createElement("option",{value:"NOTE_LENGTH"},"Note length")),c.a.createElement("span",{className:"custom-arrow"})),c.a.createElement("div",{className:"flex-container"},c.a.createElement(I,{_id:l._id}),!(void 0===l.notes||0===l.notes.length)&&l.notes.map((function(e){return c.a.createElement(D,{key:e._id,classID:t.params.classID,_id:e._id,title:e.title,content:e.content,resource:e.resource,sidenote:e.sidenote,date:e.date})}))),c.a.createElement("div",null,c.a.createElement(A,{_id:l._id,name:l.name,prof:l.prof,start_date:l.start_date,end_date:l.end_date}),c.a.createElement(T,{_id:l._id,name:l.name,prof:l.prof,start_date:l.start_date,end_date:l.end_date}))):c.a.createElement("div",{className:"not-found"},"Class not found!")},L=function(e){var t=new h.a,a=Object(n.useContext)(X),r=Object(n.useState)(!1),l=Object(u.a)(r,2),o=l[0],m=l[1],E=Object(n.useState)(e),v=Object(u.a)(E,2),p=v[0],O=v[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),j=S[0],C=S[1];Object(n.useEffect)((function(){O(e)}),[e]);var y,k=function(e,t){e.persist(),e.target.style.height="",e.target.style.height=e.target.scrollHeight+"px",O((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))},_=function(){var a=Object(i.a)(s.a.mark((function a(n){var c;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),C("LOADING"),a.next=4,fetch("/api/note/".concat(e.classID,"/").concat(e._id,"?key=").concat(t.get("code")),{method:"PATCH",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(p)});case 4:return c=a.sent,a.next=7,c.json();case 7:a.sent,200===c.status?C("SUCCESS"):400===c.status?C("ERROR_400"):403===c.status&&C("ERROR_403");case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();switch(j){case"LOADING":y=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":y=c.a.createElement("div",null,"Successfully edited note! ",c.a.createElement(d.b,{to:"/redirect?url=/class/".concat(e.classID,"/").concat(e._id),className:"modal-redirect",onClick:function(){return m(!1)}},"View updated note"));break;case"ERROR_400":y=c.a.createElement("div",null,"Please fill in all the required fields!");break;case"ERROR_403":y=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){a?window.alert("You are currently in read-only mode!"):m(!0)}},"Edit this note"),c.a.createElement(N.a,{isOpen:o,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return m(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Edit note"),c.a.createElement("div",null,c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"title"},"*Title: "),c.a.createElement("input",{type:"text",value:p.title,name:"title",id:"title",onChange:function(e){return k(e,"title")}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"content"},"*Content: "),c.a.createElement("textarea",{value:p.content,name:"content",id:"content",onChange:function(e){return k(e,"content")}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"resource"},"Extra resources: "),c.a.createElement("textarea",{value:p.resource,name:"resource",id:"resource",onChange:function(e){return k(e,"resource")}})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"sidenote"},"Side notes: "),c.a.createElement("textarea",{value:p.sidenote,name:"sidenote",id:"sidenote",onChange:function(e){return k(e,"sidenote")}})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return _(e)}},"Submit")),c.a.createElement("div",{className:"modal-status"},y))))},U=function(e){var t,a=e.classID,r=e._id,l=e.title,o=e.content,m=e.resource,E=e.sidenote,v=e.date,b=new h.a,f=Object(n.useContext)(X),p=Object(n.useState)(!1),O=Object(u.a)(p,2),g=O[0],S=O[1],j=Object(n.useState)(""),C=Object(u.a)(j,2),y=C[0],k=C[1],_=function(){var e=Object(i.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k("LOADING"),e.next=4,fetch("/api/note/".concat(a,"/").concat(r,"?key=").concat(b.get("code")),{method:"DELETE",mode:"cors"});case 4:return n=e.sent,e.next=7,n.json();case 7:e.sent,200===n.status?k("SUCCESS"):400===n.status?k("ERROR_400"):403===n.status&&k("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(y){case"LOADING":t=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":t=c.a.createElement("div",null,"Successfully removed note! ",c.a.createElement(d.b,{to:"/class/".concat(a),className:"modal-redirect",onClick:function(){return S(!1)}},"Go back to class"));break;case"ERROR_400":t=c.a.createElement("div",null,"Unknown error! Check console for details");break;case"ERROR_403":t=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){f?window.alert("You are currently in read-only mode!"):S(!0)}},"Remove this note"),c.a.createElement(N.a,{isOpen:g,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return S(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Are you sure you want to remove the following note?"),c.a.createElement("div",{className:"modal-list"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("strong",null,"Title:")," ",l),c.a.createElement("li",null,c.a.createElement("strong",null,"Content:")," ",o),c.a.createElement("li",null,c.a.createElement("strong",null,"Resources:")," ",m),c.a.createElement("li",null,c.a.createElement("strong",null,"Side notes:")," ",E),c.a.createElement("li",null,c.a.createElement("strong",null,"Date created:")," ",v&&v.split("T")[0]))),c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return _(e)}},"Confirm"),c.a.createElement("button",{className:"button-main",onClick:function(){return S(!1)}},"Cancel")),c.a.createElement("div",{className:"modal-status"},t)))},F=function(e){var t=e.match,a=Object(n.useState)({}),r=Object(u.a)(a,2),l=r[0],o=r[1],d=Object(n.useState)(!0),m=Object(u.a)(d,2),E=m[0],v=m[1],b=Object(n.useState)(!1),f=Object(u.a)(b,2),p=f[0],N=f[1];return Object(n.useEffect)((function(){(function(){var e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/note/".concat(t.params.classID,"/").concat(t.params.noteID));case 3:return a=e.sent,e.next=6,a.json();case 6:if(n=e.sent,v(!1),a.ok&&N(!0),a.ok){e.next=11;break}throw new Error(n);case 11:o(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),v(!1),console.log(e.t0);case 18:case 19:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[t.params.classID,t.params.noteID]),E?c.a.createElement("div",{className:"page-title"},"Loading..."):p?c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"page-title"},"Note Details"),c.a.createElement("div",{className:"page-info"},c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.title})),c.a.createElement("label",{className:"key"},"Title"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.content})),c.a.createElement("label",{className:"key"},"Content"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.resource||"None"})),c.a.createElement("label",{className:"key"},"Resources"),c.a.createElement("div",{className:"value"},c.a.createElement(k.a,{source:l.sidenote||"None"})),c.a.createElement("label",{className:"key"},"Side notes"),c.a.createElement("div",{className:"value"},l.date&&l.date.split("T")[0]),c.a.createElement("label",{className:"key"},"Date added"))),c.a.createElement("div",null,c.a.createElement("button",{className:"button-main",onClick:function(){return document.location.replace("/class/".concat(t.params.classID))}},"Go back to class"),c.a.createElement(L,{classID:t.params.classID,_id:l._id,title:l.title,content:l.content,resource:l.resource,sidenote:l.sidenote,date:l.date}),c.a.createElement(U,{classID:t.params.classID,_id:l._id,title:l.title,content:l.content,resource:l.resource,sidenote:l.sidenote,date:l.date}))):c.a.createElement("div",{className:"not-found"},"Note not found!")};N.a.setAppElement("#root");var P=function(){var e,t=new h.a,a=Object(n.useContext)(X),r=Object(n.useState)(!1),l=Object(u.a)(r,2),o=l[0],m=l[1],E=Object(n.useState)({subject:"",duedate:"",description:"",sidenote:""}),v=Object(u.a)(E,2),p=v[0],O=v[1],g=Object(n.useState)(""),S=Object(u.a)(g,2),j=S[0],C=S[1],y=function(){var e=Object(i.a)(s.a.mark((function e(a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),C("LOADING"),e.next=4,fetch("/api/todo?key=".concat(t.get("code")),{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify(p)});case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,200===n.status?(C("SUCCESS"),O((function(e){return Object(f.a)(Object(f.a)({},e),{},{_id:c._id})}))):400===n.status?C("ERROR_400"):403===n.status&&C("ERROR_403");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e,t){e.persist(),e.target.style.height="",e.target.style.height=e.target.scrollHeight+"px",O((function(a){return Object(f.a)(Object(f.a)({},a),{},Object(b.a)({},t,e.target.value))}))};switch(j){case"LOADING":e=c.a.createElement("div",null,"Loading...");break;case"SUCCESS":e=c.a.createElement("div",null,"Successfully added todo! ",c.a.createElement(d.b,{to:"/todo/".concat(p._id),className:"modal-redirect",onClick:function(){return m(!1)}},"View created todo"));break;case"ERROR_400":e=c.a.createElement("div",null,"Please fill in all the required fields!");break;case"ERROR_403":e=c.a.createElement("div",null,"You are in read-only mode! Please try again with a valid access token.")}return c.a.createElement("div",null,c.a.createElement(d.b,{to:"#",onClick:function(){a?window.alert("You are currently in read-only mode!"):m(!0)}},"Add Todo"),c.a.createElement(N.a,{isOpen:o,overlayClassName:"modal-overlay",className:"modal-content",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",null,c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){a||m(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Add todo"),c.a.createElement("form",{className:"modal-form"},c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"subject"},"*Subject: "),c.a.createElement("input",{type:"text",value:p.subject,onChange:function(e){return k(e,"subject")},name:"subject",id:"subject"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"duedate"},"*Due date: "),c.a.createElement("input",{type:"date",min:(new Date).toISOString().split("T")[0],value:p.duedate,onChange:function(e){return k(e,"duedate")},name:"duedate",id:"duedate"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"description"},"*Description: "),c.a.createElement("textarea",{value:p.description,onChange:function(e){return k(e,"description")},name:"description",id:"description"})),c.a.createElement("div",null,c.a.createElement("label",{htmlFor:"sidenote"},"Sidenotes: "),c.a.createElement("textarea",{value:p.sidenote,onChange:function(e){return k(e,"sidenote")},name:"sidenote",id:"sidenote"})),c.a.createElement("button",{className:"button-main",type:"submit",onClick:function(e){return y(e)}},"Submit")),c.a.createElement("div",{className:"modal-status"},e))))},Y=function(e){var t,a=new h.a,r=[e.readOnly,e.setReadOnly],l=r[0],o=r[1],m=Object(n.useState)(!1),E=Object(u.a)(m,2),v=E[0],b=E[1],f=Object(n.useState)(""),p=Object(u.a)(f,2),O=p[0],g=p[1],S=Object(n.useState)(""),j=Object(u.a)(S,2),C=j[0],y=j[1],k=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y("LOADING"),e.next=4,fetch("/api/login",{method:"POST",mode:"cors",headers:{"content-type":"application/json"},body:JSON.stringify({code:O})});case 4:if(403!==(n=e.sent).status){e.next=9;break}y("ERROR"),e.next=15;break;case 9:return y("SUCCESS"),o(!1),e.next=13,n.json();case 13:c=e.sent,a.set("code",c,{path:"/"});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(C){case"LOADING":t=c.a.createElement("div",null,"Loading...");break;case"ERROR":t=c.a.createElement("div",null,"The code you entered is incorrect!");break;case"SUCCESS":t=c.a.createElement("div",null,"You are granted editing permission! ",c.a.createElement(d.b,{className:"modal-redirect",to:"#",onClick:function(){return b(!1)}},"Close modal"))}return c.a.createElement("div",{className:"nav"},c.a.createElement(d.b,{to:"/"},"Home"),c.a.createElement(d.b,{to:"/class"},"Classes"),c.a.createElement(d.b,{to:"/todo"},"Todos"),c.a.createElement(P,null),l&&c.a.createElement(d.b,{className:"nav-edit-enable",onClick:function(){return b(!0)},to:"#"},"Enable editing"),!l&&c.a.createElement(d.b,{className:"nav-edit-disable",onClick:function(){return a.remove("code",{path:"/"}),void o(!0)},to:"#"},"Disable editing"),c.a.createElement(N.a,{isOpen:v,overlayClassName:"modal-overlay",className:"modal-content-small",portalClassName:"modal",parentSelector:function(){return document.querySelector(".main")}},c.a.createElement("div",{className:"close-modal"},c.a.createElement("button",{onClick:function(){return b(!1)}},"X")),c.a.createElement("div",{className:"modal-title"},"Enter the access code here:"),c.a.createElement("input",{value:O,onChange:function(e){return g(e.target.value)}}),c.a.createElement("div",{style:{margin:"10px"}},c.a.createElement("button",{onClick:function(e){return k(e)},className:"button-main",type:"submit"},"Submit")),c.a.createElement("div",{className:"modal-status"},t)))},q=function(e){var t=e.location;return Object(n.useEffect)((function(){document.location.replace(t.search.split("url=")[1])}),[]),c.a.createElement("div",null,"hi")},J=(a(148),a(47)),H=a.n(J),X=c.a.createContext("");var V=function(){var e=new h.a,t=Object(n.useState)(!0),a=Object(u.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login",{method:"GET",headers:{TOKEN:t}});case 2:e.sent.ok?l(!1):l(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.get("code")&&t(e.get("code"))})),c.a.createElement(d.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(X.Provider,{value:r},c.a.createElement(Y,{readOnly:r,setReadOnly:l}),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"logo"},c.a.createElement("img",{src:H.a})),c.a.createElement(m.c,null,c.a.createElement(m.a,{path:"/",exact:!0,component:E}),c.a.createElement(m.a,{path:"/todo",exact:!0,component:g}),c.a.createElement(m.a,{path:"/todo/:todoID",exact:!0,component:_}),c.a.createElement(m.a,{path:"/class",exact:!0,component:x}),c.a.createElement(m.a,{path:"/class/:classID",exact:!0,component:G}),c.a.createElement(m.a,{path:"/class/:classID/:noteID",exact:!0,component:F}),c.a.createElement(m.a,{path:"/redirect",exact:!0,component:q}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a.p+"static/media/logo.a6a3d60b.png"},48:function(e,t,a){e.exports=a(149)},53:function(e,t,a){}},[[48,1,2]]]);
//# sourceMappingURL=main.1aba862a.chunk.js.map